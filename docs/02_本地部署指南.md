# 本地部署指南

本文档将指导您如何在自己的电脑上成功运行"钓鱼邮件识别教学游戏"项目，以便进行测试、内容修改或二次开发。

## 1. 环境准备

在开始之前，请确保您的电脑上安装了以下软件。如果尚未安装，请点击链接下载并安装。


-   **Node.js**: [官方下载地址](https://nodejs.org/en/) (请下载 **LTS** 版本，如 18.x 或 20.x)
    -   *作用*：用于运行前端项目。
-   **Python**: [官方下载地址](https://www.python.org/downloads/) (请下载 >= 3.8 的版本)
    -   *作用*：用于运行后端项目。
-   **VS Code** (推荐): [官方下载地址](https://code.visualstudio.com/)
    -   *作用*：一个强大的代码编辑器，用于查看和修改代码。

## 2. 部署步骤

整个过程分为三大步：获取代码、启动后端服务、启动前端服务。请严格按照顺序执行。

### 步骤一：获取代码

### 步骤二：启动后端服务

1.  **进入后端目录**
    ```bash
    cd backend
    ```

2.  **创建并激活 Python 虚拟环境**
    *(为什么需要虚拟环境？它可以为这个项目创建一个独立、干净的 Python 环境，避免和您电脑上其他 Python 项目产生依赖冲突，非常重要！)*
    ```bash
    # 创建一个名为 venv 的虚拟环境文件夹
    python -m venv venv

    # 激活这个虚拟环境
    # 如果您使用 Windows 系统:
    .\venv\Scripts\activate
    # 如果您使用 MacOS 或 Linux 系统:
    source venv/bin/activate
    ```
    *激活成功后，您会在命令行路径的前面看到 `(venv)` 标识。*

3.  **安装 Python 依赖包**
    ```bash
    pip install -r requirements.txt
    ```
    *此命令会自动安装所有后端需要的库。*

4.  **初始化数据库**
    *(此步骤会创建数据库文件 `sql_app.db` 并填入初始的关卡和邮件数据，只需在第一次运行时执行。)*
    ```bash
    python -m app.data.init
    ```

5.  **启动后端服务！**
    ```bash
    uvicorn app.main:app --reload
    ```
    -   当您在终端看到 `Uvicorn running on http://127.0.0.1:8000` 的信息时，代表后端已成功启动。
    -   `--reload` 参数能让服务在您修改后端代码后自动重启，非常适合开发。
    -   **请保持这个终端窗口不要关闭。**

### 步骤三：启动前端服务

1.  **新开一个终端窗口** (非常重要，不要在运行后端的窗口里操作)。
2.  **确保您在新终端的 `game` 根目录下**，然后进入前端目录。
    ```bash
    cd frontend
    ```

3.  **安装 Node.js 依赖包**
    ```bash
    npm install
    ```
    *(此命令会根据 `package.json` 文件下载所有前端需要的库。如果下载速度很慢，可以尝试使用国内的淘宝镜像源：`npm install --registry=https://registry.npmmirror.com`)*

4.  **启动前端服务！**
    ```bash
    npm run serve
    ```
    -   当您在终端看到 `App running at: - Local: http://localhost:8080/` 这样的信息时，代表前端已成功启动。

## 3. 访问游戏

恭喜您！现在所有服务都已正常运行。

打开您的浏览器（推荐 Chrome），访问 `http://localhost:8080`。现在您应该能看到游戏的开始页面了。可以开始注册、登录并进行游戏了！ 